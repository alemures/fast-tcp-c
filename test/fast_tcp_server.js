'use strict';

var net = require('net');

net.createServer((socket) => {
  console.log('socket connected');

  socket.write(getBuffer());

  socket.on('close', () => console.log('socket closed'));
}).listen(5000, () => console.log('fast-tcp server listening at port 5000'));

function getBuffer() {
  return new Buffer([
    0x1f, 0x00, 0x00, 0x00, 0x01, 0x00, 0x04, 0x02, 0x01, 0x00, 0x00, 0x00, 0x09,
    0x00, 0x54, 0x68, 0x65, 0x20, 0x65, 0x76, 0x65, 0x6e, 0x74, 0x08, 0x00, 0x00,
    0x00, 0x9a, 0x99, 0x99, 0x99, 0x99, 0x19, 0x35, 0x40
  ]);
}
